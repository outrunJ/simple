{"version":3,"sources":["basic.js"],"names":[],"mappings":";;AAAA,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAA;AACxB,IAAI,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC3C,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;;AAEtB,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE;AAClC,MAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,mCAAmC,CAAC,CAAA;AACpE,IAAE,CAAC,QAAQ,CAAE,CAAC,EAAE,UAAU,GAAG,EAAE,QAAQ,EAAE;AACvC,QAAI,GAAG,EAAE,MAAM,GAAG,CAAC;AACnB,QAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAA;AAClD,QAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAA;AAC1C,aAAS,CAAC,IAAI,CAAC,CAAA;AACf,KAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAA;AACV,gBAAY,CAAC,CAAC,EAAE,IAAI,EAAE,YAAY,CAAC,CAAA;AACnC,KAAC,CAAC,GAAG,EAAE,CAAA;GACR,CAAC,CAAA;CACH,CAAC,CAAA;;AAEF,SAAS,YAAY,CAAE,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE;AAC9C,GAAC,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,EAAE,0BAA0B,CAAC,CAAA;AACzE,GAAC,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,IAAI,GAAG,GAAG,GAAG,UAAU,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAA;AACvF,GAAC,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,sBAAsB,CAAC,CAAA;AAC/D,GAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,EAAE,6BAA6B,CAAC,CAAA;AAClE,GAAC,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,EAAE,mCAAmC,CAAC,CAAA;AACtF,GAAC,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC;;AAAA,AAEvC,GAAC,CAAC,SAAS,CAAC,UAAU,CAAC,oBAAoB,EAC/B,QAAQ,CAAC,oBAAoB,CAAC,CAAA;AAC1C,GAAC,CAAC,GAAG,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,CAAC,oBAAoB,EAAE,8CAA8C,CAAC,CAAA;AAC7G,GAAC,CAAC,GAAG,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,CAAC,YAAY,EAAE,mCAAmC,CAAC,CAAA;AAC1F,GAAC,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe,EAAE,QAAQ,CAAC,eAAe,CAAC,CAAA;AACjE,GAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,2BAA2B,CAAC,CAAA;AAC9D,GAAC,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,oDAAoD,CAAC,CAAA;CACnF","file":"basic-compiled.js","sourcesContent":["var tap = require(\"tap\")\nvar normalize = require(\"../lib/normalize\")\nvar path = require(\"path\")\nvar fs = require(\"fs\")\n\ntap.test(\"basic test\", function (t) {\n  var p = path.resolve(__dirname, \"./fixtures/read-package-json.json\")\n  fs.readFile (p, function (err, contents) {\n    if (err) throw err;\n    var originalData = JSON.parse(contents.toString())\n    var data = JSON.parse(contents.toString())\n    normalize(data)\n    t.ok(data)\n    verifyFields(t, data, originalData)\n    t.end()\n  })\n})\n\nfunction verifyFields (t, normalized, original) {\n  t.equal(normalized.version, original.version, \"Version field stays same\")\n  t.equal(normalized._id, normalized.name + \"@\" + normalized.version, \"It gets good id.\")\n  t.equal(normalized.name, original.name, \"Name stays the same.\")\n  t.type(normalized.author, \"object\", \"author field becomes object\")\n  t.deepEqual(normalized.scripts, original.scripts, \"scripts field (object) stays same\")\n  t.equal(normalized.main, original.main)\n  // optional deps are folded in.\n  t.deepEqual(normalized.optionalDependencies,\n              original.optionalDependencies)\n  t.has(normalized.dependencies, original.optionalDependencies, \"opt depedencies are copied into dependencies\")\n  t.has(normalized.dependencies, original.dependencies, \"regular depedencies stay in place\")\n  t.deepEqual(normalized.devDependencies, original.devDependencies)\n  t.type(normalized.bugs, \"object\", \"bugs should become object\")\n  t.equal(normalized.bugs.url, \"https://github.com/isaacs/read-package-json/issues\")\n}\n"]}
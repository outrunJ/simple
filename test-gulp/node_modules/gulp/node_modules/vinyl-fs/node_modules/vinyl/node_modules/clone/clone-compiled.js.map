{"version":3,"sources":["clone.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;AAEb,SAAS,cAAc,CAAC,CAAC,EAAE;AACzB,SAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CAC1C;;;;AAAA,AAID,IAAI,IAAI,GAAG;AACT,SAAO,EAAE,iBAAU,EAAE,EAAE;AACrB,WAAO,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAK,QAAO,EAAE,yCAAF,EAAE,OAAK,QAAQ,IAAI,cAAc,CAAC,EAAE,CAAC,KAAK,gBAAgB,AAAC,CAAC;GACjG;AACD,QAAM,EAAE,gBAAU,CAAC,EAAE;AACnB,WAAO,QAAO,CAAC,yCAAD,CAAC,OAAK,QAAQ,IAAI,cAAc,CAAC,CAAC,CAAC,KAAK,eAAe,CAAC;GACvE;AACD,UAAQ,EAAE,kBAAU,EAAE,EAAE;AACtB,WAAO,QAAO,EAAE,yCAAF,EAAE,OAAK,QAAQ,IAAI,cAAc,CAAC,EAAE,CAAC,KAAK,iBAAiB,CAAC;GAC3E;AACD,gBAAc,EAAE,wBAAU,EAAE,EAAE;AAC5B,QAAI,KAAK,GAAG,EAAE,CAAC;AACf,MAAE,CAAC,MAAM,KAAK,KAAK,IAAI,GAAG,CAAA,AAAC,CAAC;AAC5B,MAAE,CAAC,UAAU,KAAK,KAAK,IAAI,GAAG,CAAA,AAAC,CAAC;AAChC,MAAE,CAAC,SAAS,KAAK,KAAK,IAAI,GAAG,CAAA,AAAC,CAAC;AAC/B,WAAO,KAAK,CAAC;GACd;CACF,CAAC;;AAGF,IAAI,QAAO,MAAM,yCAAN,MAAM,OAAK,QAAQ,EAC5B,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;;AAAA,AAqBzB,SAAS,KAAK,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE;;;AAGjD,MAAI,UAAU,GAAG,EAAE,CAAC;AACpB,MAAI,WAAW,GAAG,EAAE,CAAC;;AAErB,MAAI,SAAS,GAAG,OAAO,MAAM,IAAI,WAAW,CAAC;;AAE7C,MAAI,OAAO,QAAQ,IAAI,WAAW,EAChC,QAAQ,GAAG,IAAI,CAAC;;AAElB,MAAI,OAAO,KAAK,IAAI,WAAW,EAC7B,KAAK,GAAG,QAAQ,CAAC;;;AAAA,AAGnB,WAAS,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE;;AAE7B,QAAI,MAAM,KAAK,IAAI,EACjB,OAAO,IAAI,CAAC;;AAEd,QAAI,KAAK,IAAI,CAAC,EACZ,OAAO,MAAM,CAAC;;AAEhB,QAAI,KAAK,CAAC;AACV,QAAI,KAAK,CAAC;AACV,QAAI,QAAO,MAAM,yCAAN,MAAM,MAAI,QAAQ,EAAE;AAC7B,aAAO,MAAM,CAAC;KACf;;AAED,QAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;AACxB,WAAK,GAAG,EAAE,CAAC;KACZ,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AAChC,WAAK,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;AAC/D,UAAI,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;KAC1D,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;AAC9B,WAAK,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;KACpC,MAAM,IAAI,SAAS,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AAC/C,WAAK,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAClC,YAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnB,aAAO,KAAK,CAAC;KACd,MAAM;AACL,UAAI,OAAO,SAAS,IAAI,WAAW,EAAE;AACnC,aAAK,GAAG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AACtC,aAAK,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;OAC9B,MACI;AACH,aAAK,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACjC,aAAK,GAAG,SAAS,CAAC;OACnB;KACF;;AAED,QAAI,QAAQ,EAAE;AACZ,UAAI,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;AAEvC,UAAI,KAAK,IAAI,CAAC,CAAC,EAAE;AACf,eAAO,WAAW,CAAC,KAAK,CAAC,CAAC;OAC3B;AACD,gBAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACxB,iBAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACzB;;AAED,SAAK,IAAI,CAAC,IAAI,MAAM,EAAE;AACpB,UAAI,KAAK,CAAC;AACV,UAAI,KAAK,EAAE;AACT,aAAK,GAAG,MAAM,CAAC,wBAAwB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;OACnD;;AAED,UAAI,KAAK,IAAI,KAAK,CAAC,GAAG,IAAI,IAAI,EAAE;AAC9B,iBAAS;OACV;AACD,WAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;KACzC;;AAED,WAAO,KAAK,CAAC;GACd;;AAED,SAAO,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;CAC9B;;;;;;;;;AAAA,AASD,KAAK,CAAC,cAAc,GAAG,UAAS,MAAM,EAAE;AACtC,MAAI,MAAM,KAAK,IAAI,EACjB,OAAO,IAAI,CAAC;;AAEd,MAAI,CAAC,GAAG,SAAJ,CAAC,GAAe,EAAE,CAAC;AACvB,GAAC,CAAC,SAAS,GAAG,MAAM,CAAC;AACrB,SAAO,IAAI,CAAC,EAAE,CAAC;CAChB,CAAC","file":"clone-compiled.js","sourcesContent":["'use strict';\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n// shim for Node's 'util' package\n// DO NOT REMOVE THIS! It is required for compatibility with EnderJS (http://enderjs.com/).\nvar util = {\n  isArray: function (ar) {\n    return Array.isArray(ar) || (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n  },\n  isDate: function (d) {\n    return typeof d === 'object' && objectToString(d) === '[object Date]';\n  },\n  isRegExp: function (re) {\n    return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n  },\n  getRegExpFlags: function (re) {\n    var flags = '';\n    re.global && (flags += 'g');\n    re.ignoreCase && (flags += 'i');\n    re.multiline && (flags += 'm');\n    return flags;\n  }\n};\n\n\nif (typeof module === 'object')\n  module.exports = clone;\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\n\nfunction clone(parent, circular, depth, prototype) {\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (util.isArray(parent)) {\n      child = [];\n    } else if (util.isRegExp(parent)) {\n      child = new RegExp(parent.source, util.getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (util.isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n      \n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n"]}
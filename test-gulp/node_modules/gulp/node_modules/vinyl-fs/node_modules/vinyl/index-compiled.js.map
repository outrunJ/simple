{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var path = require('path');\nvar clone = require('clone');\nvar cloneStats = require('clone-stats');\nvar cloneBuffer = require('./lib/cloneBuffer');\nvar isBuffer = require('./lib/isBuffer');\nvar isStream = require('./lib/isStream');\nvar isNull = require('./lib/isNull');\nvar inspectStream = require('./lib/inspectStream');\nvar Stream = require('stream');\n\nfunction File(file) {\n  if (!file) file = {};\n\n  // record path change\n  var history = file.path ? [file.path] : file.history;\n  this.history = history || [];\n\n  // TODO: should this be moved to vinyl-fs?\n  this.cwd = file.cwd || process.cwd();\n  this.base = file.base || this.cwd;\n\n  // stat = fs stats object\n  // TODO: should this be moved to vinyl-fs?\n  this.stat = file.stat || null;\n\n  // contents = stream, buffer, or null if not read\n  this.contents = file.contents || null;\n}\n\nFile.prototype.isBuffer = function() {\n  return isBuffer(this.contents);\n};\n\nFile.prototype.isStream = function() {\n  return isStream(this.contents);\n};\n\nFile.prototype.isNull = function() {\n  return isNull(this.contents);\n};\n\n// TODO: should this be moved to vinyl-fs?\nFile.prototype.isDirectory = function() {\n  return this.isNull() && this.stat && this.stat.isDirectory();\n};\n\nFile.prototype.clone = function(opt) {\n  if (typeof opt === 'boolean') {\n    opt = {\n      deep: opt,\n      contents: true\n    };\n  } else if (!opt) {\n    opt = {\n      deep: false,\n      contents: true\n    };\n  } else {\n    opt.deep = opt.deep === true;\n    opt.contents = opt.contents !== false;\n  }\n\n  // clone our file contents\n  var contents;\n  if (this.isStream()) {\n    contents = this.contents.pipe(new Stream.PassThrough());\n    this.contents = this.contents.pipe(new Stream.PassThrough());\n  } else if (this.isBuffer()) {\n    contents = opt.contents ? cloneBuffer(this.contents) : this.contents;\n  }\n\n  var file = new File({\n    cwd: this.cwd,\n    base: this.base,\n    stat: (this.stat ? cloneStats(this.stat) : null),\n    history: this.history.slice(),\n    contents: contents\n  });\n\n  // clone our custom properties\n  Object.keys(this).forEach(function(key) {\n    // ignore built-in fields\n    if (key === '_contents' || key === 'stat' ||\n      key === 'history' || key === 'path' ||\n      key === 'base' || key === 'cwd') {\n      return;\n    }\n    file[key] = opt.deep ? clone(this[key], true) : this[key];\n  }, this);\n  return file;\n};\n\nFile.prototype.pipe = function(stream, opt) {\n  if (!opt) opt = {};\n  if (typeof opt.end === 'undefined') opt.end = true;\n\n  if (this.isStream()) {\n    return this.contents.pipe(stream, opt);\n  }\n  if (this.isBuffer()) {\n    if (opt.end) {\n      stream.end(this.contents);\n    } else {\n      stream.write(this.contents);\n    }\n    return stream;\n  }\n\n  // isNull\n  if (opt.end) stream.end();\n  return stream;\n};\n\nFile.prototype.inspect = function() {\n  var inspect = [];\n\n  // use relative path if possible\n  var filePath = (this.base && this.path) ? this.relative : this.path;\n\n  if (filePath) {\n    inspect.push('\"'+filePath+'\"');\n  }\n\n  if (this.isBuffer()) {\n    inspect.push(this.contents.inspect());\n  }\n\n  if (this.isStream()) {\n    inspect.push(inspectStream(this.contents));\n  }\n\n  return '<File '+inspect.join(' ')+'>';\n};\n\n// virtual attributes\n// or stuff with extra logic\nObject.defineProperty(File.prototype, 'contents', {\n  get: function() {\n    return this._contents;\n  },\n  set: function(val) {\n    if (!isBuffer(val) && !isStream(val) && !isNull(val)) {\n      throw new Error('File.contents can only be a Buffer, a Stream, or null.');\n    }\n    this._contents = val;\n  }\n});\n\n// TODO: should this be moved to vinyl-fs?\nObject.defineProperty(File.prototype, 'relative', {\n  get: function() {\n    if (!this.base) throw new Error('No base specified! Can not get relative.');\n    if (!this.path) throw new Error('No path specified! Can not get relative.');\n    return path.relative(this.base, this.path);\n  },\n  set: function() {\n    throw new Error('File.relative is generated from the base and path attributes. Do not modify it.');\n  }\n});\n\nObject.defineProperty(File.prototype, 'path', {\n  get: function() {\n    return this.history[this.history.length - 1];\n  },\n  set: function(path) {\n    if (typeof path !== 'string') throw new Error('path should be string');\n\n    // record history only when path changed\n    if (path && path !== this.path) {\n      this.history.push(path);\n    }\n  }\n});\n\nmodule.exports = File;\n"]}
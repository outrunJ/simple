{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["var watch = require('../');\nvar should = require('should');\nvar path = require('path');\nvar fs = require('fs');\nvar rimraf = require('rimraf');\nvar mkdirp = require('mkdirp');\n\nrequire('mocha');\n\ndescribe('glob-watcher', function() {\n  it('should return a valid file struct via EE', function(done) {\n    var expectedName = path.join(__dirname, \"./fixtures/stuff/temp.coffee\");\n    var fname = path.join(__dirname, \"./fixtures/**/temp.coffee\");\n    mkdirp.sync(path.dirname(expectedName));\n    fs.writeFileSync(expectedName, \"testing\");\n\n    var watcher = watch(fname);\n    watcher.on('change', function(evt) {\n      should.exist(evt);\n      should.exist(evt.path);\n      should.exist(evt.type);\n      evt.type.should.equal('changed');\n      evt.path.should.equal(expectedName);\n      watcher.end();\n    });\n    watcher.on('end', function(){\n      rimraf.sync(expectedName);\n      done();\n    });\n    setTimeout(function(){\n      fs.writeFileSync(expectedName, \"test test\");\n    }, 125);\n  });\n\n  it('should emit nomatch via EE', function(done) {\n    var fname = path.join(__dirname, \"./doesnt_exist_lol/temp.coffee\");\n\n    var watcher = watch(fname);\n    watcher.on('nomatch', function() {\n      done();\n    });\n  });\n\n  it('should return a valid file struct via callback', function(done) {\n    var expectedName = path.join(__dirname, \"./fixtures/stuff/test.coffee\");\n    var fname = path.join(__dirname, \"./fixtures/**/test.coffee\");\n    mkdirp.sync(path.dirname(expectedName));\n    fs.writeFileSync(expectedName, \"testing\");\n\n    var watcher = watch(fname, function(evt) {\n      should.exist(evt);\n      should.exist(evt.path);\n      should.exist(evt.type);\n      evt.type.should.equal('changed');\n      evt.path.should.equal(expectedName);\n      watcher.end();\n    });\n\n    watcher.on('end', function(){\n      rimraf.sync(expectedName);\n      done();\n    });\n    setTimeout(function(){\n      fs.writeFileSync(expectedName, \"test test\");\n    }, 200);\n  });\n\n  it('should not return a non-matching file struct via callback', function(done) {\n    var expectedName = path.join(__dirname, \"./fixtures/test123.coffee\");\n    var fname = path.join(__dirname, \"./fixtures/**/test.coffee\");\n    mkdirp.sync(path.dirname(expectedName));\n    fs.writeFileSync(expectedName, \"testing\");\n\n    var watcher = watch(fname, function(evt) {\n      throw new Error(\"Should not have been called! \"+evt.path);\n    });\n\n    setTimeout(function(){\n      fs.writeFileSync(expectedName, \"test test\");\n    }, 200);\n\n    setTimeout(function(){\n      rimraf.sync(expectedName);\n      done();\n    }, 1500);\n  });\n});"]}
{"version":3,"sources":["clone.js"],"names":[],"mappings":"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","file":"clone-compiled.js","sourcesContent":["var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n"]}
{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACnC,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAClC,IAAI,EAAE,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AAChC,IAAI,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;AAE5B,IAAI,WAAW,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;AAC3C,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;;AAErC,SAAS,UAAU,CAAE,QAAQ,EAAE,GAAG,EAAE,EAAE,EAAE;AACtC,IAAE,CAAC,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;CAC9B;;AAED,SAAS,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE;AACtB,KAAG,GAAG,GAAG,IAAI,EAAE,CAAC;AAChB,MAAI,IAAI,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;;AAEzB,MAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;AACtB,UAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,IAAI,CAAC,CAAC;GACnD;;AAAA,AAED,MAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC5C,WAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AACtC,WAAO,IAAI,CAAC;GACb;;AAED,MAAI,OAAO,GAAG,QAAQ,CAAC,GAAG,EAAE;AAC1B,QAAI,EAAE,IAAI;AACV,UAAM,EAAE,IAAI;GACb,CAAC,CAAC;;AAEH,MAAI,UAAU,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC;;;AAAC,AAG1C,MAAI,YAAY,GAAG,UAAU,CAC1B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAC7B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;;AAE3B,MAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE;AAC1B,gBAAY,GAAG,YAAY,CACxB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;GAC/B;;AAED,SAAO,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CAChC;;AAED,SAAS,WAAW,CAAC,IAAI,EAAE;AACzB,MAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAC5B,WAAO,IAAI,CAAC;GACb;AACD,MAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC5C,WAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;GAChC;AACD,MAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC5C,WAAO,IAAI,CAAC;GACb;AACD,SAAO,KAAK,CAAC;CACd;;AAED,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar defaults = require('defaults');\nvar through = require('through2');\nvar gs = require('glob-stream');\nvar File = require('vinyl');\n\nvar getContents = require('./getContents');\nvar getStats = require('./getStats');\n\nfunction createFile (globFile, enc, cb) {\n  cb(null, new File(globFile));\n}\n\nfunction src(glob, opt) {\n  opt = opt || {};\n  var pass = through.obj();\n\n  if (!isValidGlob(glob)) {\n    throw new Error('Invalid glob argument: ' + glob);\n  }\n  // return dead stream if empty array\n  if (Array.isArray(glob) && glob.length === 0) {\n    process.nextTick(pass.end.bind(pass));\n    return pass;\n  }\n\n  var options = defaults(opt, {\n    read: true,\n    buffer: true\n  });\n\n  var globStream = gs.create(glob, options);\n\n  // when people write to use just pass it through\n  var outputStream = globStream\n    .pipe(through.obj(createFile))\n    .pipe(getStats(options));\n\n  if (options.read !== false) {\n    outputStream = outputStream\n      .pipe(getContents(options));\n  }\n\n  return outputStream.pipe(pass);\n}\n\nfunction isValidGlob(glob) {\n  if (typeof glob === 'string') {\n    return true;\n  }\n  if (Array.isArray(glob) && glob.length !== 0) {\n    return glob.every(isValidGlob);\n  }\n  if (Array.isArray(glob) && glob.length === 0) {\n    return true;\n  }\n  return false;\n}\n\nmodule.exports = src;\n"]}